<link rel="stylesheet" href="src/css/style.css">

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    
    <div class="solar-calc">
      
      <h1>Solar Calculator</h1>
      
      <div class="solar-calc-inner">
	
	<div class="solar-calc-inner-form">

	  <form class="solar-calc-form" id="solar-calc-form">	

	    <h3 class="solar-calc-form-divider">Household Details</h3>
	    
	    <div>
	      <label>Postcode
		<span class="sc-tooltip" data-text="Your postcode helps determine your retailers energy price and avaliable FITs.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="text" min="0" id="sc-postcode" name="sc-postcode" maxlength="4" pattern="[0-9][0-9]{3}" />
	      <span class="input-value-display"></span>
	    </div>

	    <!-- <div> -->
	      <!--   <label>Cost per kW</label> -->
	      <!--   <input type="number" min="0" id="sc-current-cost-kw" name="sc-current-cost-kw" /> -->
	      <!--   <span class="input-value-display"> -->
		<!--   </span> -->
	      <!-- </div> -->	    
	    
	    <div>
	      <label>Bill frequency
		<span class="sc-tooltip" data-text="Select your bill frequency.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <select id="sc-frequency" name="sc-frequency" class="sc-input">
		<option>Choose Frequency</option>
		<option value="monthly" data-freq-count="1">Monthly</option>
		<option value="quarterly" data-freq-count="3">Quarterly</option>
		<option value="annually" data-freq-count="12">Annually</option>
	      </select>
	      <span class="input-value-display" style="text-transform: capitalize;"></span>
	    </div>

	    <div>
	      <label>Bill amount
		<span class="sc-tooltip" data-text="Your bill total including connection fee.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="number" min="0" id="sc-bill" name="sc-bill" />
	      <span class="input-value-display input-value-dollar"></span>
	    </div>
	    
	    <div>
	      <label>Daily Usage kW
	      	<span class="sc-tooltip" data-text="Your daily usage - defaults to 20kW per day.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="number" min="0" id="sc-daily-usage" name="sc-daily-usage"/>
	      <span class="input-value-display input-value-kw"></span>
	    </div>

	    <div>
	      <label>Price per kW - &#162;
	      	<span class="sc-tooltip" data-text="The price per kW in cents. Defaults to 33 cents.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="number" id="sc-kw" name="sc-kw" min="0"/>
	      <span class="input-value-display input-value-cent"></span>
	    </div>
	    
	    <div>
	      <label>Power Used 8am - 6pm
	      	<span class="sc-tooltip" data-text="The time of the day  energy is used. This affects price as you're using solar or grid energy.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="range" id="sc-daytime-usage" name="sc-daytime-usage" min="1" max="100" value="20"/>
	      <span class="input-value-display input-value-percent"></span>
	    </div>
	    
	    <h3 class="solar-calc-form-divider">System Details</h3>
	    
	    <div>
	      <label>System Size
	      	<span class="sc-tooltip" data-text="The size of the system. The amount of panels and size of inverter depends on system size.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="range" id="sc-size" name="sc-size" min="5" max="30" value="6"/>
	      <span class="input-value-display input-value-kw"></span>
	    </div>

	    <div>
	      <label>PV Panels
	      	<span class="sc-tooltip" data-text="The amount power produced depends on how many panels you have.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="range" id="sc-panels" name="sc-panels" step="1" value="16"/>
	      <span class="input-value-display"></span>
	    </div>
	    
	    <div>
	      <label>Roof Pitch
	      	<span class="sc-tooltip" data-text="The average pitch of an Australian roof in 22 degrees.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <!-- <input type="text" id="sc-angle" name="sc-angle" maxlength="3" pattern="[1-9][0-9]{2}" /> -->
	      <input type="range" id="sc-pitch" name="sc-pitch" min="0" max="45" value="22"/>
	      <span class="input-value-display input-value-degrees">22</span>
	    </div>

	    <div>
	      <label>Roof Orientation
	      	<span class="sc-tooltip" data-text="The direction your roof faces will affect the sunlight hours and therefore production of energy.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="range" id="sc-orientation" name="sc-orientation" min="0" max="360" value="0"/>
	      <span class="input-value-display"></span>
	    </div>

	    <div class="solar-panel-outlay">
	      <div></div>
	      <div class="solar-panels"></div>
	      <div></div>
	    </div>

	    <div>
	      <label>Solar System Cost
	      	<span class="sc-tooltip" data-text="The total price of your system excluding battery. This is calculated against average retailer cost.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="number" min="0" id="sc-system-cost" name="sc-system-cost"/>
	      <span class="input-value-display input-value-dollar"></span>
	    </div>

	    <div>
	      <label>Feed-in Tariff
	      	<span class="sc-tooltip" data-text="The avaliable FITs for selling excess energy back to the grid.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="text" id="sc-feed-in-tariff" name="sc-feed-in-tariff" />
	      <span class="input-value-display input-value-cent"></span>
	    </div>
	    
	    <div>
	      <label>Finance (years)
	      	<span class="sc-tooltip" data-text="If financing your system this is taken into account when calculating payback timeframe.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <input type="number" min="0" max="25" id="sc-finance-years" name="sc-finance-years"/>
	      <span class="input-value-display"></span>
	    </div>
	    
	    <h3 class="solar-calc-form-divider">Battery Details</h3>

	    <div>
	      <label>Battery
	      	<span class="sc-tooltip" data-text="Excess energy can be stored in a battery and this power used in times when the system is not generating power.">
		  <img src="src/images/sc_question_icon.png"/>
		</span>
	      </label>
	      <select id="sc-battery" name="sc-battery">
		<!-- value.split('--') in js -->
		<option>Choose a battery</option>
		<option value="LG Chem RESU 6.5kW" data-battery-kw="6.5" data-battery-price="5000">LG Chem RESU 6.5kW</option>		
		<option value="LG Chem RESU 9.8kW" data-battery-kw="9.8" data-battery-price="10000">LG Chem RESU 9.8kW</option>		
		<option value="Oli Power 5.1Kwh" data-battery-kw="5.1" data-battery-price="5000">Oli Power 5.1Kwh</option>
		<option value="Tesla Powerwall 2" data-battery-kw="6.5" data-battery-price="14000">Tesla Powerwall 2</option>
	      </select>
	      <span class="input-value-display"></span>	  
	    </div>
	    
	    <div>
	      <label>Battery Cost
	      </label>
	      <input type="number" min="1000" id="sc-battery-cost" name="sc-battery-cost" step="1000" />
	      <span class="input-value-display input-value-dollar"></span>
	    </div>

	    <button id="calc-button">
	      Calculate
	    </button>
	    
	  </form>
	</div>
	
	<div class="solar-calc-results">
	  
	  <div class="solar-calc-results-inner">
	    
	    <div class="solar-calc-savings-info solar-calc-financials">
	      <div>
		<p>Current price per kW</p><span id="span-current-price-kw"></span>
	      </div>
	      <div>
		<p>Retail Interest per Year</p><span class="input-value-percent" id="span-inflation"></span>
	      </div>
	    </div>
	    
	    <hr/>
	    
	    <div class="solar-calc-savings-info solar-calc-financials">
	      <div>
		<p>Annual Savings From Feed In Tariff</p><span id="span-annual-savings-fit"></span>
	      </div>
	      <div>
		<p>Payback Timeframe</p><span id="span-payback-timeframe"></span>
	      </div>
	      <div>
		<p>Solar System Cost</p><span id="span-system-cost" class="input-value-dollar"></span>
	      </div>
	      <div>
		<p>Return On Investment</p><span id="span-roi"></span>
	      </div>
	    </div>
	    
	    <hr/>
	    
	    <div class="solar-calc-savings-info solar-calc-system">
	      <div>
		<p>System Size</p><span id="span-size" class="input-value-kw"></span>
	      </div>
	      <div>
		<p>Daily Energy Use</p><span id="span-daily-usage" class="input-value-kw"></span>
	      </div>
	      <div>
		<p>Daily Solar Production</p><span id="span-daily-solar-production"></span>
	      </div>
	      <div>
		<p>Lifetime Emissions Saved</p><span id="span-emissions-saved"></span>
	      </div>
	    </div>

	    <hr/>
	    
	    <div class="sc-charts-block">
	      
	      <ul class="sc-charts-tabs">
		<li class="sc-charts-tab" data-chart-tab="savings-over-time">Savings over time</li>
		<!-- <li class="sc-charts-tab" data-chart-tab="retail-vs-solar">Retail vs solar</li> -->
	      </ul>

	      <div class="sc-charts-chart savings-over-time">
		<canvas id="sc-solar-savings-chart"></canvas>    
	      </div>
	      
	      <!-- <div class="sc-charts-chart payback-timeframe"> -->
	      <!-- 	<canvas id="sc-retail-vs-solar "></canvas>     -->
	      <!-- </div> -->
	      
	    </div>
	    
	    <div class="calculator-disclaimer">
	      <p>
		<small>
		  This solar power calculator provides estimates only, and is intended to be used as a general guide when researching a solar system and/or batteries. <a href="#">Full disclaimer.</a>
		</small>
	      </p>
	    </div>

	  </div>
	  
	  
	</div>

      </div>
    </div>
    
    <script src="src/js/solar-form.js" type="module"></script>
    
